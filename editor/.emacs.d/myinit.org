* Common Stuff
** Include own files
     #+BEGIN_SRC emacs-lisp
       (add-to-list 'load-path "~/.emacs.d/include")
     #+END_SRC
** Interface
*** Hide Startup Message, Toolbar, Scrollbar and Menubar
    #+BEGIN_SRC emacs-lisp
      (setq inhibit-startup-message nil)
      (tool-bar-mode -1)
      (menu-bar-mode -1)
      (scroll-bar-mode -1)

      (require 'mybuffer)
      (setup-mybuffer-environment)
      (setup-startup-hook)
    #+END_SRC  
** Recent Files
   #+BEGIN_SRC emacs-lisp
     (require 'recentf)
     (recentf-mode 1)
     (setq recentf-max-menu-items 25)
   #+END_SRC
** Font Settings
   #+BEGIN_SRC emacs-lisp
     (add-to-list 'default-frame-alist '(font . "Fira Mono 11"))
     (set-face-attribute 'default t :font "Fira Mono 11")
   #+END_SRC
** Theme
   #+BEGIN_SRC emacs-lisp
     (use-package base16-theme
       :ensure t)
     (load-theme 'base16-monokai t)
   #+END_SRC
** Basic Settings
   #+BEGIN_SRC emacs-lisp
     (fset 'yes-or-no-p 'y-or-n-p)
     (setq-default indent-tabs-mode nil)
     (set-default 'truncate-lines t)

     (setq backup-directory-alist
           `((".*" . ,temporary-file-directory)))
     (setq auto-save-file-name-transforms
           `((".*" ,temporary-file-directory t)))

     (windmove-default-keybindings 'meta)

   #+END_SRC
** Custom Functions
*** Reload Init File
    #+BEGIN_SRC emacs-lisp
      (defun reload-init()
        (load-file "~/.emacs.d/init.el"))
    #+END_SRC
*** Dedicated Windows
    #+BEGIN_SRC emacs-lisp
      (defadvice pop-to-buffer (before cancel-other-window first)
        (ad-set-arg 1 nil))

      (ad-activate 'pop-to-buffer)

      ;; Toggle window dedication
      (defun toggle-window-dedicated ()
        "Toggle whether the current active window is dedicated or not."
        (interactive)
        (message
         (if (let (window (get-buffer-window (current-buffer)))
               (set-window-dedicated-p window 
                                       (not (window-dedicated-p window))))
             "Window '%s' is dedicated"
           "Window '%s' is normal")
         (current-buffer)))
    #+END_SRC
** Global Keybindings
   #+BEGIN_SRC emacs-lisp
     (global-set-key (kbd "<f1>") 'describe-mode)
     (global-set-key (kbd "M-<f1>") 'helm-dash)
     (global-set-key (kbd "C-<f1>") '(lambda () (interactive) (show-mybuffer)))

     (global-set-key (kbd "M-<f5>") 'revert-buffer)
     (global-set-key (kbd "C-<f5>") '(lambda () (interactive) (reload-init)))

     (global-set-key (kbd "M-x") 'helm-M-x)
     (global-set-key (kbd "C-x g") 'magit-status)
     (global-set-key (kbd "<f4>") 'helm-buffers-list)

     (global-set-key (kbd "<f2>") 'helm-projectile)
     (global-set-key (kbd "<pause>") 'toggle-window-dedicated)
   #+END_SRC
   
* Autocomplete
  #+BEGIN_SRC emacs-lisp
    (use-package auto-complete
      :ensure t)

    (require 'auto-complete)
    (require 'auto-complete-config)
    (ac-config-default)
    (global-auto-complete-mode t)

  #+END_SRC

* Documentation
** Org Mode
#+BEGIN_SRC emacs-lisp
  (use-package org-bullets
    :ensure t
    :config
    (add-hook 'org-mode-hook (lambda () (org-bullets-mode 1))))
#+END_SRC 
** Markdown
#+BEGIN_SRC emacs-lisp
  (defun my-gfm-hook()
    (setq markdown-command "multimarkdown")
    (local-set-key (kbd "<f5>") 'markdown-live-preview-mode))

  (use-package markdown-mode
    :ensure t
    :commands (markdown-mode gfm-mode)
    :mode (("README\\.md\\'" . gfm-mode)
           ("\\.md\\'" . markdown-mode)
           ("\\.markdown\\'" . markdown-mode))
    :init (my-gfm-hook))
#+END_SRC
   
* Helm
#+BEGIN_SRC emacs-lisp
  (use-package helm
    :ensure t)

  (use-package helm-dash
    :ensure t
    :init
    (setq helm-dash-browser-func 'eww))
#+END_SRC

* Powerline
#+BEGIN_SRC emacs-lisp
  (use-package powerline
    :ensure t)
  ;;(powerline-default-theme)
#+END_SRC

* Projectile
#+BEGIN_SRC emacs-lisp
  (use-package projectile
    :ensure t)

  (use-package helm-projectile
    :ensure t)

#+END_SRC

* git
** Magit
#+BEGIN_SRC emacs-lisp
  (use-package magit
    :ensure t)
#+END_SRC
* Which-Key
#+BEGIN_SRC emacs-lisp
  (use-package which-key
    :ensure t
    :init
    (which-key-mode))
#+END_SRC
* Programming
** Common
   #+BEGIN_SRC emacs-lisp
     (use-package hideshow
       :ensure t)

     (defun my-prog-bindings()
       (global-set-key (kbd "C-<f6>") 'compile)
       (global-set-key (kbd "<f6>") 'recompile)
       (global-set-key (kbd "C-+") 'hs-toggle-hiding))

     (defun my-prog-hook()
       (linum-mode 1)
       (rainbow-delimiters-mode)
       (smartparens-mode)
       (my-prog-bindings))

     (add-hook 'prog-mode-hook 'my-prog-hook)
     (add-hook 'prog-mode-hook 'hs-minor-mode)
    #+END_SRC
** GDB
   #+BEGIN_SRC emacs-lisp
     (defun my-gdb-hook()
       (local-set-key (kbd "<f10>") 'gud-next)
       (local-set-key (kbd "<f11>") 'gud-step)
       (local-set-key (kbd "<f5>") 'gud-go)
       (local-set-key (kbd "<f12>") 'gud-print)
       (local-set-key (kbd "<f9>") 'gud-break))

     (add-hook 'prog-mode-hook 'my-gdb-hook)
   #+END_SRC
** Dataformats
   #+BEGIN_SRC emacs-lisp
     (use-package json-mode
       :ensure t)

     (use-package yaml-mode
       :ensure t)
   #+END_SRC
** Flycheck
    #+BEGIN_SRC emacs-lisp
      (use-package flycheck
        :ensure t
        :init
        (global-flycheck-mode t))
    #+END_SRC
** Google Golang
    #+BEGIN_SRC emacs-lisp
      (use-package go-mode
        :ensure t)

      (use-package go-autocomplete
        :ensure t)

      (use-package go-playground
        :ensure t)

      (use-package go-dlv
        :ensure t)

      (defun my-go-mode-hook ()
        (interactive)
        ; Call Gofmt before saving
        (add-hook 'before-save-hook 'gofmt-before-save)

        ; Customize compile command to run go build
        (if (not (string-match "go" compile-command))
            (set (make-local-variable 'compile-command)
                 "go build -v -gcflags '-N -l' && go test -v && go vet"))
        
        ; Godef jump key binding
        (local-set-key (kbd "M-.") 'godef-jump)
        (require 'go-autocomplete)

        (setq-local helm-dash-docsets '("Go"))
        (message "Go Hook loaded"))
       
      (add-hook 'go-mode-hook 'my-go-mode-hook)

    #+END_SRC
** Python
    #+BEGIN_SRC emacs-lisp
      (defun my-python-hook()
        (local-set-key (kbd "M-.") 'jedi:goto-definition))

      (use-package jedi
        :ensure t
        :init
        (add-hook 'python-mode-hook 'jedi:setup)
        (add-hook 'python-mode-hook 'jedi:ac-setup)
        (add-hook 'python-mode-hook 'my-python-hook))

    #+END_SRC
** Ruby
    #+BEGIN_SRC emacs-lisp
      (use-package haml-mode
        :ensure t)


      (add-to-list 'auto-mode-alist
                   '("\\.\\(?:gemspec\\|irbrc\\|gemrc\\|rake\\|rb\\|ru\\|thor\\)\\'" . ruby-mode))
      (add-to-list 'auto-mode-alist
                   '("\\(Capfile\\|Gemfile\\(?:\\.[a-zA-Z0-9._-]+\\)?\\|[rR]akefile\\)\\'" . ruby-mode))
    #+END_SRC
** Docker
   #+BEGIN_SRC emacs-lisp
     (use-package dockerfile-mode
       :ensure t)
   #+END_SRC
** Groovy
   #+BEGIN_SRC emacs-lisp
     (use-package groovy-mode
       :ensure t)
   #+END_SRC
** Jenkins
   #+BEGIN_SRC emacs-lisp
     (add-to-list 'auto-mode-alist
                  '("Jenkinsfile" . groovy-mode))
   #+END_SRC
** LUA
   #+BEGIN_SRC emacs-lisp
     (use-package lua-mode
       :ensure t)
   #+END_SRC
** Haskell
#+BEGIN_SRC emacs-lisp
  (use-package haskell-mode
    :ensure t)
#+END_SRC
** Arduino
   #+BEGIN_SRC emacs-lisp
     (use-package arduino-mode
       :ensure t)
   #+END_SRC
** CSharp
   #+BEGIN_SRC emacs-lisp
     (defun setup-omnisharp()
       (setq omnisharp-server-executable-path "/home/sebastian/Projects/omnisharp-server/OmniSharp/bin/Debug/OmniSharp.exe"))

     (use-package omnisharp
       :ensure t
       :init
       (add-hook 'csharp-mode-hook 'omnisharp-mode)
       (setup-omnisharp))

   #+END_SRC
** NodeJS
*** Angular
    #+BEGIN_SRC emacs-lisp
      (use-package ng2-mode
        :ensure t)
    #+END_SRC
* Miscellaneous
#+BEGIN_SRC emacs-lisp
  (use-package rainbow-delimiters
    :ensure t)
  (use-package smartparens
    :ensure t)
#+END_SRC
* Fun/Social/Internet
** Filebin Client
#+BEGIN_SRC emacs-lisp
#+END_SRC
#+BEGIN_SRC emacs-lisp
  (use-package nyan-mode
    :ensure t)

  (nyan-mode)
#+END_SRC
** Restclient
   #+BEGIN_SRC emacs-lisp
     (use-package restclient
       :ensure t)
   #+END_SRC
* Testing

